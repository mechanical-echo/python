#:kivy 2.0.0
<LoginWindow>:
    username: username
    password: password

    canvas.before:
        Color:
            rgba: (0.95, 0.95, 0.95, 1)  # Light gray background
        Rectangle:
            pos: self.pos
            size: self.size

    GridLayout:
        cols: 1
        padding: dp(40)
        spacing: dp(20)
        size: root.width, root.height

        # Welcome Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.3
            spacing: dp(10)

            Label:
                text: "Welcome!"
                font_size: min(root.width, root.height) * 0.1
                color: (0.2, 0.4, 0.6, 1)  # Soft blue
                bold: True
                halign: 'center'
                valign: 'middle'
                text_size: self.size

            Image:
                source: './maxwell.gif'
                size_hint: 1, 0.8
                anim_delay: 0.01
                anim_loop: 0
                allow_stretch: True
                keep_ratio: True

        # Username Input
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.2
            spacing: dp(5)

            Label:
                text: "Username:"
                font_size: min(root.width, root.height) * 0.05
                color: (0.2, 0.2, 0.2, 1)  # Dark gray
                bold: True
                halign: 'left'
                text_size: self.size

            CustomTextInput:
                id: username
                multiline: False
                size_hint_y: 0.6
                hint_text: "Enter your username"
                font_size: min(root.width, root.height) * 0.04
                background_color: (1, 1, 1, 1)  # White background
                foreground_color: (0.2, 0.2, 0.2, 1)  # Dark gray text
                padding: [10, 10]

        # Password Input
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.2
            spacing: dp(5)

            Label:
                text: "Password:"
                font_size: min(root.width, root.height) * 0.05
                color: (0.2, 0.2, 0.2, 1)  # Dark gray
                bold: True
                halign: 'left'
                text_size: self.size

            CustomTextInput:
                id: password
                multiline: False
                password: True
                size_hint_y: 0.6
                hint_text: "Enter your password"
                font_size: min(root.width, root.height) * 0.04
                background_color: (1, 1, 1, 1)  # White background
                foreground_color: (0.2, 0.2, 0.2, 1)  # Dark gray text
                padding: [10, 10]

        # Login Button
        Button:
            text: "Login"
            size_hint_y: 0.15
            font_size: min(root.width, root.height) * 0.06
            bold: True
            color: (1, 1, 1, 1)  # White text
            background_color: (0.2, 0.4, 0.6, 1)  # Soft blue
            on_press: root.login_button()
            canvas.before:
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [dp(10),]

        # Status Message
        Label:
            text: root.status_message
            size_hint_y: 0.1
            font_size: min(root.width, root.height) * 0.04
            color: (0.8, 0.2, 0.2, 1)  # Red for error messages
            bold: True
            halign: 'center'
            valign: 'middle'
            text_size: self.size

<CustomTextInput@TextInput>:
    cursor_color: (0.4, 0.2, 0.6, 1)
    padding: [10, 10]
    background_color: 0, 0, 0, 0
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [15]
        Color:
            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
        Line: 
            rounded_rectangle: (self.x, self.y, self.width, self.height, 15)
            width: 1.5 if self.focus else 1.2
    selection_color: 0.6, 0.4, 0.8, 0.4 
    halign: 'center'
    valign: 'center'
    padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
<NoteCreationWindow>:
    note_text: note_input
    note_title_text: note_title_input
    
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jaunā piezīme:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                CustomTextInput:
                    id: note_title_input
                    hint_text: "Ievadi piezīmes nosaukumu"
                    font_size: min(root.width, root.height) * 0.04
                    
                CustomTextInput:
                    id: note_input
                    multiline: True
                    hint_text: "Ievadi piezīmes tekstu"
                    font_size: min(root.width, root.height) * 0.04

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 15
                    size_hint_y: .25
                    
                    Button:
                        text: f'Izvēlies krāsu : {root.chosen_color}'
                        on_release: root.create_color_dropdown(self)
                        background_color: (0.5, 0.3, 0.7, 1)
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5
                        
                    Button:
                        text: f'Izvēlies kategoriju : {root.chosen_category}'
                        on_release: root.create_category_dropdown(self)
                        background_color: (0.5, 0.3, 0.7, 1)
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5

                Button:
                    text: "Saglabāt"
                    on_release: root.save_note()
                    size_hint_y: .2
                    background_color: (0.5, 0.3, 0.7, 1)
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
    
<NotesView>:
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

                Button:
                    text: "Pievienot"
                    on_release: root.create_note()
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Rediģēt kontu"
                    on_release: root.edit_profile()
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Iestatījumi"
                    on_release: root.open_settings()
                    size_hint_y: None
                    height: dp(50)
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Lietotāji"
                    on_release: root.open_user_management()
                    size_hint_y: None
                    height: dp(50)
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Izlogoties"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.logout_button()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jūsu piezīmes:"
                    color: 0, 0, 0, 1
                
                Button:
                    text: "Kārtot pēc datuma"
                    on_press: root.sort_notes_by_date()
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Kārtot pēc nosaukuma"
                    on_press: root.sort_notes_by_title()
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                
                canvas.before:
                    Color:
                        rgba: (0.85, 0.95, 1, 1)
                
                GridLayout:
                    cols: 2
                    id: notes_container
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 15
                    padding: [20, 10]

<NoteItemView>:
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10)
    spacing: dp(15)

    canvas.before:
        Color:
            rgba: (root.color_red, root.color_green, root.color_blue, .5)
        RoundedRectangle:
            pos: self.pos
            size: root.width, root.height
            radius: [4]
    Label:
        text: f"{root.note_title}"
        text_size: self.width - dp(20), None
        color: root.color_red - 0.1, root.color_green - 0.1, root.color_blue - 0.1, 1
        size_hint_y: None
        bold: True
        height: self.texture_size[1]

    Label:
        text: f"Created: {root.created_at}"
        text_size: self.width - dp(20), None
        color: root.color_red, root.color_green, root.color_blue, 1
        size_hint_y: None
        height: self.texture_size[1]
    
    Label:
        text: root.note_text
        color: root.color_red - .1, root.color_green - .1, root.color_blue - .1, 1
        bold: True
        text_size: self.width - dp(20), None
        size_hint_y: None
        height: self.texture_size[1]
        halign: 'left'
        valign: 'middle'
        padding: [10, 10]

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: dp(30)

        BoxLayout:
            orientation: 'horizontal'
            size_hint_x: .3

        BoxLayout:
            orientation: 'horizontal'
            spacing: 5
            size_hint_x: .7

            Label:
                text: f"{root.note_category}"
                text_size: self.width - dp(20), None
                color: root.color_red, root.color_green, root.color_blue, 1

            Button:
                text: "Rediģēt"
                size_hint_y: 1
                size_hint_x: .45
                on_release: root.edit_note()
                background_color: 0.5, 0.3, 0.7, 1
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: (0.5, 0.3, 0.7, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                    Color:
                        rgba: (0.4, 0.2, 0.6, 1)
                    Line:
                        rectangle: (self.x, self.y, self.width, self.height)
                        width: 1.5

            Button:
                text: "Dzēst"
                size_hint_y: 1
                size_hint_x: .55
                on_release: root.delete_note()
                background_color: 0.5, 0.3, 0.7, 1
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: (0.5, 0.3, 0.7, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                    Color:
                        rgba: (0.4, 0.2, 0.6, 1)
                    Line:
                        rectangle: (self.x, self.y, self.width, self.height)
                        width: 1.5

<WindowManager>:
    LoginWindow:
        name: 'login'
    NoteCreationWindow:
        name: 'note_creation'
    NotesView:
        name: 'notes_view'
    NoteEditWindow:
        name: 'note_edit'
    UserEditWindow:
        name: 'user_edit'
    SettingsWindow:
        name: 'settings_window'
    UserView:
        name: 'user_view'

<NoteEditWindow>:
    note_text: note_input
    note_title_text: note_title_input
    
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jaunā piezīme:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                CustomTextInput:
                    id: note_title_input
                    hint_text: "Ievadi piezīmes nosaukumu"
                    font_size: min(root.width, root.height) * 0.04
                    
                CustomTextInput:
                    id: note_input
                    multiline: True
                    hint_text: "Ievadi piezīmes tekstu"
                    font_size: min(root.width, root.height) * 0.04

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 15
                    size_hint_y: .25
                    
                    Button:
                        text: f'Izvēlies krāsu : {root.chosen_color}'
                        on_release: root.create_color_dropdown(self)
                        background_color: 0.5, 0.3, 0.7, 1
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5
                        
                    Button:
                        text: f'Izvēlies kategoriju : {root.chosen_category}'
                        on_release: root.create_category_dropdown(self)
                        background_color: 0.5, 0.3, 0.7, 1
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5

                Button:
                    text: "Saglabāt"
                    on_release: root.save_note()
                    size_hint_y: .2
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
<UserEditWindow>:
    username_input: username_input
    password_input: password_input
    name_input: name_input
    surname_input: surname_input

    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Rediģēt lietotāja informāciju:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                CustomTextInput:
                    id: username_input
                    hint_text: "Ievadi lietotājvārdu"
                    font_size: min(root.width, root.height) * 0.04

                CustomTextInput:
                    id: password_input
                    hint_text: "Ievadi paroli"
                    font_size: min(root.width, root.height) * 0.04
                    password: True

                CustomTextInput:
                    id: name_input
                    hint_text: "Ievadi vārdu"
                    font_size: min(root.width, root.height) * 0.04

                CustomTextInput:
                    id: surname_input
                    hint_text: "Ievadi uzvārdu"
                    font_size: min(root.width, root.height) * 0.04

                Button:
                    text: "Saglabāt"
                    on_release: root.save_user_data()
                    size_hint_y: .2
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
<SettingsWindow>:
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)

        Label:
            text: "Iestatījumi"
            font_size: 24
            size_hint_y: None
            height: dp(40)

        Button:
            text: "Izvēlēties fona krāsu"
            on_release: root.dropdown.open(self)
            background_color: 0.5, 0.3, 0.7, 1
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: (0.5, 0.3, 0.7, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: (0.4, 0.2, 0.6, 1)
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1.5

        Button:
            text: "Atpakaļ"
            on_release: root.go_back()
            background_color: 0.5, 0.3, 0.7, 1
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: (0.5, 0.3, 0.7, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: (0.4, 0.2, 0.6, 1)
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1.5

<UserView>:
    canvas.before:
        Color:
            rgba: 1, 0.93, 0.93, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Lietotāji:"
                    color: 0, 0, 0, 1
                
                
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                
                canvas.before:
                    Color:
                        rgba: (0.85, 0.95, 1, 1)
                
                GridLayout:
                    cols: 2
                    id: users_container
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 15
                    padding: [20, 10]