#:kivy 2.0.0
<LoginWindow>:
    username: username
    password: password

    canvas.before:
        Color:
            rgba: (0.98, 0.96, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size
                
    GridLayout:
        cols: 2
        size: root.width, root.height - dp(50)
        pos: root.pos[0], root.pos[1] + dp(50)

        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.4
            padding: dp(20)

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.6

                Label:
                    text: "Welcome!"
                    size_hint: 1, 0.5
                    font_size: min(root.width, root.height) * 0.08
                    color: 0.4, 0.2, 0.6, 1
                    bold: True
                    halign: 'left'
                    valign: 'center'
                    text_size: self.size

                Image:
                    source: './maxwell.gif'
                    size_hint: 1, 0.5
                    anim_delay: 0.01
                    anim_loop: 0
                    allow_stretch: True
                    keep_ratio: True

        BoxLayout:
            orientation: 'vertical'
            size_hint_x: .8
            padding: dp(20)

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.1

                Label:
                    text: "Username: "
                    size_hint: 1, 1
                    font_size: min(root.width, root.height) * 0.05
                    color: 0.4, 0.2, 0.6, 1
                    bold: True
                    halign: "left"
                    text_size: self.size
                    padding: [10, 15]

                TextInput:
                    id: username
                    multiline: False
                    size_hint: 1, 0.5
                    hint_text: "Enter username"
                    font_size: min(root.width, root.height) * 0.04
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.1

                Label:
                    text: "Password: "
                    size_hint: 1, 1
                    font_size: min(root.width, root.height) * 0.05
                    color: 0.4, 0.2, 0.6, 1
                    bold: True
                    halign: "left"
                    text_size: self.size
                    padding: [10, 15]

                TextInput:
                    id: password
                    multiline: False
                    password: True
                    size_hint: 1, 0.5
                    hint_text: "Enter password"
                    font_size: min(root.width, root.height) * 0.04
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

    Button:
        text: "Login"
        pos: root.width / 4, 10
        size_hint: 0.5, 0.1
        font_size: min(root.width, root.height) * 0.05
        on_press: root.login_button()
        color: 1, 1, 1, 1
        bold: True
        background_color: (0.5, 0.3, 0.7, 1)
        canvas.before:
            Color:
                rgba: (0.5, 0.3, 0.7, 1)
            Rectangle:
                pos: self.pos
                size: self.size
            Color:
                rgba: (0.4, 0.2, 0.6, 1)
            Line:
                rectangle: (self.x, self.y, self.width, self.height)
                width: 1.5

    Label:
        text: root.status_message
        pos: [0, -20]
        size_hint: 1, 0.4
        font_size: min(root.width, root.height) * 0.04
        bold: True


<NoteCreationWindow>:
    note_text: note_input
    note_title_text: note_title_input
    
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jaunā piezīme:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                TextInput:
                    id: note_title_input
                    hint_text: "Ievadi piezīmes nosaukumu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .25
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2
                    
                TextInput:
                    id: note_input
                    multiline: True
                    hint_text: "Ievadi piezīmes tekstu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .5
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 15
                    size_hint_y: .25
                    
                    Button:
                        text: f'Izvēlies krāsu : {root.chosen_color}'
                        on_release: root.create_color_dropdown(self)
                        background_color: (0.5, 0.3, 0.7, 1)
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5
                        
                    Button:
                        text: f'Izvēlies kategoriju : {root.chosen_category}'
                        on_release: root.create_category_dropdown(self)
                        background_color: (0.5, 0.3, 0.7, 1)
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5

                Button:
                    text: "Saglabāt"
                    on_release: root.save_note()
                    size_hint_y: .2
                    background_color: (0.5, 0.3, 0.7, 1)
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
    
<NotesView>:
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

                Button:
                    text: "Pievienot"
                    on_release: root.create_note()
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Rediģēt kontu"
                    on_release: root.edit_profile()
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Iestatījumi"
                    on_release: root.open_settings()
                    size_hint_y: None
                    height: dp(50)
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Lietotāji"
                    on_release: root.open_user_management()
                    size_hint_y: None
                    height: dp(50)
                    background_color: 0.7, 0.3, 0.5, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.7, 0.3, 0.5, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.2, 0.4, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Izlogoties"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.logout_button()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jūsu piezīmes:"
                    color: 0, 0, 0, 1
                
                Button:
                    text: "Kārtot pēc datuma"
                    on_press: root.sort_notes_by_date()
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

                Button:
                    text: "Kārtot pēc nosaukuma"
                    on_press: root.sort_notes_by_title()
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                
                canvas.before:
                    Color:
                        rgba: (0.85, 0.95, 1, 1)
                
                GridLayout:
                    cols: 2
                    id: notes_container
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 15
                    padding: [20, 10]

<NoteItemView>:
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10)
    spacing: dp(15)

    canvas.before:
        Color:
            rgba: (root.color_red, root.color_green, root.color_blue, .5)
        RoundedRectangle:
            pos: self.pos
            size: root.width, root.height
            radius: [4]
    Label:
        text: f"{root.note_title}"
        text_size: self.width - dp(20), None
        color: root.color_red - 0.1, root.color_green - 0.1, root.color_blue - 0.1, 1
        size_hint_y: None
        bold: True
        height: self.texture_size[1]

    Label:
        text: f"Created: {root.created_at}"
        text_size: self.width - dp(20), None
        color: root.color_red, root.color_green, root.color_blue, 1
        size_hint_y: None
        height: self.texture_size[1]
    
    Label:
        text: root.note_text
        color: root.color_red - .1, root.color_green - .1, root.color_blue - .1, 1
        bold: True
        text_size: self.width - dp(20), None
        size_hint_y: None
        height: self.texture_size[1]
        halign: 'left'
        valign: 'middle'
        padding: [10, 10]

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: dp(30)

        BoxLayout:
            orientation: 'horizontal'
            size_hint_x: .3

        BoxLayout:
            orientation: 'horizontal'
            spacing: 5
            size_hint_x: .7

            Label:
                text: f"{root.note_category}"
                text_size: self.width - dp(20), None
                color: root.color_red, root.color_green, root.color_blue, 1

            Button:
                text: "Rediģēt"
                size_hint_y: 1
                size_hint_x: .45
                on_release: root.edit_note()
                background_color: 0.5, 0.3, 0.7, 1
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: (0.5, 0.3, 0.7, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                    Color:
                        rgba: (0.4, 0.2, 0.6, 1)
                    Line:
                        rectangle: (self.x, self.y, self.width, self.height)
                        width: 1.5

            Button:
                text: "Dzēst"
                size_hint_y: 1
                size_hint_x: .55
                on_release: root.delete_note()
                background_color: 0.5, 0.3, 0.7, 1
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: (0.5, 0.3, 0.7, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                    Color:
                        rgba: (0.4, 0.2, 0.6, 1)
                    Line:
                        rectangle: (self.x, self.y, self.width, self.height)
                        width: 1.5

<WindowManager>:
    LoginWindow:
        name: 'login'
    NoteCreationWindow:
        name: 'note_creation'
    NotesView:
        name: 'notes_view'
    NoteEditWindow:
        name: 'note_edit'
    UserEditWindow:
        name: 'user_edit'
    SettingsWindow:
        name: 'settings_window'
    UserView:
        name: 'user_view'

<NoteEditWindow>:
    note_text: note_input
    note_title_text: note_title_input
    
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Jaunā piezīme:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                TextInput:
                    id: note_title_input
                    hint_text: "Ievadi piezīmes nosaukumu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .25
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2
                    
                TextInput:
                    id: note_input
                    multiline: True
                    hint_text: "Ievadi piezīmes tekstu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .5
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 15
                    size_hint_y: .25
                    
                    Button:
                        text: f'Izvēlies krāsu : {root.chosen_color}'
                        on_release: root.create_color_dropdown(self)
                        background_color: 0.5, 0.3, 0.7, 1
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5
                        
                    Button:
                        text: f'Izvēlies kategoriju : {root.chosen_category}'
                        on_release: root.create_category_dropdown(self)
                        background_color: 0.5, 0.3, 0.7, 1
                        color: 1, 1, 1, 1
                        canvas.before:
                            Color:
                                rgba: (0.5, 0.3, 0.7, 1)
                            Rectangle:
                                pos: self.pos
                                size: self.size
                            Color:
                                rgba: (0.4, 0.2, 0.6, 1)
                            Line:
                                rectangle: (self.x, self.y, self.width, self.height)
                                width: 1.5

                Button:
                    text: "Saglabāt"
                    on_release: root.save_note()
                    size_hint_y: .2
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
<UserEditWindow>:
    username_input: username_input
    password_input: password_input
    name_input: name_input
    surname_input: surname_input

    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5

        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Rediģēt lietotāja informāciju:"
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: "vertical"
                padding: [20, 40]
                spacing: 15

                TextInput:
                    id: username_input
                    hint_text: "Ievadi lietotājvārdu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .15
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                TextInput:
                    id: password_input
                    hint_text: "Ievadi paroli"
                    font_size: min(root.width, root.height) * 0.04
                    password: True
                    size_hint_y: .15
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                TextInput:
                    id: name_input
                    hint_text: "Ievadi vārdu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .15
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                TextInput:
                    id: surname_input
                    hint_text: "Ievadi uzvārdu"
                    font_size: min(root.width, root.height) * 0.04
                    size_hint_y: .15
                    background_color: (1, 1, 1, 1)
                    foreground_color: (0, 0, 0, 1)
                    cursor_color: (0.4, 0.2, 0.6, 1)
                    padding: [10, 10]
                    canvas.before:
                        Color:
                            rgba: (0.9, 0.9, 0.9, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.6, 0.4, 0.8, 1) if self.focus else (0.9, 0.9, 0.9, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5 if self.focus else 1.2

                Button:
                    text: "Saglabāt"
                    on_release: root.save_user_data()
                    size_hint_y: .2
                    background_color: 0.5, 0.3, 0.7, 1
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, 1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5
<SettingsWindow>:
    canvas.before:
        Color:
            rgba: (0.85, 0.95, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)

        Label:
            text: "Iestatījumi"
            font_size: 24
            size_hint_y: None
            height: dp(40)

        Button:
            text: "Izvēlēties fona krāsu"
            on_release: root.dropdown.open(self)
            background_color: 0.5, 0.3, 0.7, 1
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: (0.5, 0.3, 0.7, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: (0.4, 0.2, 0.6, 1)
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1.5

        Button:
            text: "Atpakaļ"
            on_release: root.go_back()
            background_color: 0.5, 0.3, 0.7, 1
            color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: (0.5, 0.3, 0.7, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: (0.4, 0.2, 0.6, 1)
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1.5

<UserView>:
    canvas.before:
        Color:
            rgba: 1, 0.93, 0.93, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"
            size_hint_x: .28

            canvas.before:
                Color:
                    rgba: (.1, 0, 0, .15)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .25

            BoxLayout:
                orientation: "vertical"
                size_hint_y: .75

                BoxLayout:
                    orientation: "vertical"

                Button:
                    text: "Atpakaļ"
                    font_size: min(root.width, root.height) * 0.05
                    on_release: root.back_to_main()
                    size_hint_y: .15
                    background_color: 0.5, 0.3, 0.7, .5
                    color: 1, 1, 1, 1
                    canvas.before:
                        Color:
                            rgba: (0.5, 0.3, 0.7, .5)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                        Color:
                            rgba: (0.4, 0.2, 0.6, 1)
                        Line:
                            rectangle: (self.x, self.y, self.width, self.height)
                            width: 1.5


        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"
                size_hint_y: .125

                canvas.before:
                    Color:
                        rgba: (.1, 0, 0, .15)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                Label:
                    text: "Lietotāji:"
                    color: 0, 0, 0, 1
                
                
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                
                canvas.before:
                    Color:
                        rgba: (0.85, 0.95, 1, 1)
                
                GridLayout:
                    cols: 2
                    id: users_container
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 15
                    padding: [20, 10]